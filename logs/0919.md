# 相机环境配置流程
直接用 apt 安装 ROS 版 RealSense 驱动，确保容器内已正确配置 ROS 2 源（你已经有了），然后安装：
sudo apt-get update
sudo apt-get install -y \
  ros-humble-realsense2-camera \
  ros-humble-realsense2-camera-msgs \
  ros-humble-realsense2-description

相关常见依赖（如你需要图像/消息桥接等）：
sudo apt-get install -y \
  ros-humble-cv-bridge \
  ros-humble-message-filters \
  ros-humble-image-transport

可选（ROS 打包的 vendor 版 SDK，通常会被自动依赖上）：
sudo apt-get install -y ros-humble-librealsense2

载入环境并验证：
source /opt/ros/humble/setup.bash
ros2 pkg executables realsense2_camera
ros2 run realsense2_camera realsense2_camera_node

如果 ros2 run 提示 “Package not found”，基本是没有 source /opt/ros/humble/setup.bash。可写入 ~/.bashrc：
echo 'source /opt/ros/humble/setup.bash' >> ~/.bashrc

# 启动docker容器时，启动x11转发
docker run -it --privileged \
  --net=host \
  --group-add video \
  --device=/dev/D435 \
  -e DISPLAY=$DISPLAY \
  -e QT_X11_NO_MITSHM=1 \
  -v /tmp/.X11-unix:/tmp/.X11-unix:rw \
  piper_ros2:0912 /bin/bash

# 只开彩色与深度，关闭双目红外，设置分辨率与帧率，对齐深度到彩色并启用点云
ros2 launch realsense2_camera rs_launch.py \
  enable_infra1:=false enable_infra2:=false \
  rgb_camera.profile:=640x480x30 \
  depth_module.profile:=848x480x30 \
  color_format:=RGB8 \
  align_depth.enable:=true \
  pointcloud.enable:=true
initial_reset:=true：启动前对设备进行一次重置，解决偶发不出流问题。
enable_color/enable_depth/enable_infra1/enable_infra2：选择性开启/关闭传感器。

# rviz无法启动，利用x11运行（run模式下进入管理者模式后进行）
sudo apt update && apt install x11-apps
输入指令xlogo来验证，弹出图像就说明成功，成功后运行ros2 run rviz2 rviz2
